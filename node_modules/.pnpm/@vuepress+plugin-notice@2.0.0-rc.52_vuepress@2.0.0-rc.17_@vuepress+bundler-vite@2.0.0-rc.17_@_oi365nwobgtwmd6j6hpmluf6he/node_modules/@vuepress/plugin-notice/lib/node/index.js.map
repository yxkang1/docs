{"version":3,"file":"index.js","sources":["../../src/node/getNoticeOptions.ts","../../src/node/logger.ts","../../src/node/noticePlugin.ts"],"sourcesContent":["import type { NoticeAttrOptions, NoticeOptions } from '../shared/index.js'\n\nexport const getNoticeOptions = (\n  options: NoticeOptions[] = [],\n): NoticeAttrOptions[] =>\n  options\n    .map(({ key, ...item }) =>\n      'match' in item\n        ? {\n            ...item,\n            match: item.match.source,\n            noticeKey: key,\n          }\n        : { ...item, noticeKey: key },\n    )\n    .sort((a, b) =>\n      'match' in a\n        ? 'match' in b\n          ? b.match.localeCompare(a.match)\n          : -1\n        : 'match' in b\n          ? 1\n          : (b.path || '').localeCompare(a.path || ''),\n    )\n","import { Logger } from '@vuepress/helper'\n\nexport const PLUGIN_NAME = '@vuepress/plugin-notice'\n\nexport const logger = new Logger(PLUGIN_NAME)\n","import type { Plugin } from 'vuepress/core'\nimport { getDirname, logger, path } from 'vuepress/utils'\nimport { getNoticeOptions } from './getNoticeOptions.js'\nimport { PLUGIN_NAME } from './logger.js'\nimport type { NoticePluginOptions } from './options.js'\n\nconst __dirname = getDirname(import.meta.url)\n\nexport const noticePlugin =\n  (options: NoticePluginOptions): Plugin =>\n  (app) => {\n    if (app.env.isDebug) logger.info('Options', options)\n\n    return {\n      name: PLUGIN_NAME,\n\n      define: {\n        __NOTICE_OPTIONS__: getNoticeOptions(options.config),\n      },\n\n      clientConfigFile: path.resolve(__dirname, '../client/config.js'),\n    }\n  }\n"],"names":["getNoticeOptions","options","key","item","a","b","PLUGIN_NAME","Logger","__dirname","getDirname","noticePlugin","app","logger","path"],"mappings":"4GAEa,MAAAA,EAAmB,CAC9BC,EAA2B,CAAC,IAE5BA,EACG,IAAI,CAAC,CAAE,IAAAC,EAAK,GAAGC,CAAK,IACnB,UAAWA,EACP,CACE,GAAGA,EACH,MAAOA,EAAK,MAAM,OAClB,UAAWD,CACb,EACA,CAAE,GAAGC,EAAM,UAAWD,CAAI,CAChC,EACC,KAAK,CAACE,EAAGC,IACR,UAAWD,EACP,UAAWC,EACTA,EAAE,MAAM,cAAcD,EAAE,KAAK,EAC7B,GACF,UAAWC,EACT,GACCA,EAAE,MAAQ,IAAI,cAAcD,EAAE,MAAQ,EAAE,CACjD,ECrBSE,EAAc,0BAEL,IAAIC,EAAOD,CAAW,ECE5C,MAAME,EAAYC,EAAW,YAAY,GAAG,EAE/BC,EACVT,GACAU,IACKA,EAAI,IAAI,SAASC,EAAO,KAAK,UAAWX,CAAO,EAE5C,CACL,KAAMK,EAEN,OAAQ,CACN,mBAAoBN,EAAiBC,EAAQ,MAAM,CACrD,EAEA,iBAAkBY,EAAK,QAAQL,EAAW,qBAAqB,CACjE"}