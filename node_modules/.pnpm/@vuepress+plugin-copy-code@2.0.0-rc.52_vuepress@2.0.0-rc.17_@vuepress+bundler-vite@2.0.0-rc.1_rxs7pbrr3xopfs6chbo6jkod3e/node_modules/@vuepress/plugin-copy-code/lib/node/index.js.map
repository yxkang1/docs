{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/logger.ts","../../src/node/copyCodePlugin.ts"],"sourcesContent":["import type { CopyCodePluginLocaleConfig } from '../shared/index.js'\n\n/** Multi language config for copy code */\nexport const copyCodeLocales: CopyCodePluginLocaleConfig = {\n  '/en/': {\n    copy: 'Copy code',\n    copied: 'Copied',\n  },\n\n  '/zh/': {\n    copy: '复制代码',\n    copied: '已复制',\n  },\n\n  '/zh-tw/': {\n    copy: '複製代碼',\n    copied: '已複製',\n  },\n\n  '/de/': {\n    copy: 'Kopiere den Code.',\n    copied: 'Kopiert',\n  },\n\n  '/de-at/': {\n    copy: 'Kopiere den Code.',\n    copied: 'Kopierter',\n  },\n\n  '/vi/': {\n    copy: 'Sao chép code',\n    copied: 'Đã sao chép',\n  },\n\n  '/uk/': {\n    copy: 'Скопіюйте код',\n    copied: 'Скопійовано',\n  },\n\n  '/ru/': {\n    copy: 'Скопировать код',\n    copied: 'Скопировано',\n  },\n\n  '/br/': {\n    copy: 'Copiar o código',\n    copied: 'Código',\n  },\n\n  '/pl/': {\n    copy: 'Skopiuj kod',\n    copied: 'Skopiowane',\n  },\n\n  '/sk/': {\n    copy: 'Skopíruj kód',\n    copied: 'Skopírované',\n  },\n\n  '/fr/': {\n    copy: 'Copier le code',\n    copied: 'Copié',\n  },\n\n  '/es/': {\n    copy: 'Copiar código',\n    copied: 'Copiado',\n  },\n\n  '/ja/': {\n    copy: 'コードをコピー',\n    copied: 'コピーしました',\n  },\n\n  '/tr/': {\n    copy: 'Kodu kopyala',\n    copied: 'Kopyalandı',\n  },\n\n  '/ko/': {\n    copy: '코드 복사',\n    copied: '복사됨',\n  },\n\n  '/fi/': {\n    copy: 'Kopioi koodi',\n    copied: 'Kopioitu',\n  },\n\n  '/hu/': {\n    copy: 'Kód másolása',\n    copied: 'Másolva',\n  },\n\n  '/id/': {\n    copy: 'Salin kode',\n    copied: 'Disalin',\n  },\n\n  '/nl/': {\n    copy: 'Kopieer code',\n    copied: 'Gekopieerd',\n  },\n}\n","import { Logger } from '@vuepress/helper'\n\nexport const PLUGIN_NAME = '@vuepress/plugin-copy-code'\n\nexport const logger = new Logger(PLUGIN_NAME)\n","import {\n  addViteSsrNoExternal,\n  getLocaleConfig,\n  isArray,\n  isString,\n} from '@vuepress/helper'\nimport type { PluginFunction } from 'vuepress/core'\nimport { getDirname, path } from 'vuepress/utils'\nimport { copyCodeLocales } from './locales.js'\nimport { PLUGIN_NAME, logger } from './logger.js'\nimport type { CopyCodePluginOptions } from './options.js'\n\nconst __dirname = getDirname(import.meta.url)\n\nexport const copyCodePlugin =\n  (options: CopyCodePluginOptions = {}): PluginFunction =>\n  (app) => {\n    if (app.env.isDebug) logger.info('Options:', options)\n\n    return {\n      name: PLUGIN_NAME,\n\n      define: () => ({\n        __CC_DELAY__: options.delay ?? 500,\n        __CC_DURATION__: options.duration ?? 2000,\n        __CC_IGNORE_SELECTOR__: options.ignoreSelector ?? [],\n        __CC_LOCALES__: getLocaleConfig({\n          app,\n          name: PLUGIN_NAME,\n          default: copyCodeLocales,\n          config: options.locales,\n        }),\n        __CC_SELECTOR__: isArray(options.selector)\n          ? options.selector\n          : isString(options.selector)\n            ? [options.selector]\n            : ['[vp-content] div[class*=\"language-\"] pre'],\n        __CC_SHOW_IN_MOBILE__: options.showInMobile ?? false,\n      }),\n\n      extendsBundlerOptions: (bundlerOptions: unknown): void => {\n        addViteSsrNoExternal(bundlerOptions, app, '@vuepress/helper')\n      },\n\n      clientConfigFile: path.resolve(__dirname, '../client/config.js'),\n    }\n  }\n"],"names":["copyCodeLocales","PLUGIN_NAME","logger","Logger","__dirname","getDirname","copyCodePlugin","options","app","getLocaleConfig","isArray","isString","bundlerOptions","addViteSsrNoExternal","path"],"mappings":"0KAGO,MAAMA,EAA8C,CACzD,OAAQ,CACN,KAAM,YACN,OAAQ,QACV,EAEA,OAAQ,CACN,KAAM,OACN,OAAQ,KACV,EAEA,UAAW,CACT,KAAM,OACN,OAAQ,KACV,EAEA,OAAQ,CACN,KAAM,oBACN,OAAQ,SACV,EAEA,UAAW,CACT,KAAM,oBACN,OAAQ,WACV,EAEA,OAAQ,CACN,KAAM,gBACN,OAAQ,aACV,EAEA,OAAQ,CACN,KAAM,gBACN,OAAQ,aACV,EAEA,OAAQ,CACN,KAAM,kBACN,OAAQ,aACV,EAEA,OAAQ,CACN,KAAM,kBACN,OAAQ,QACV,EAEA,OAAQ,CACN,KAAM,cACN,OAAQ,YACV,EAEA,OAAQ,CACN,KAAM,eACN,OAAQ,aACV,EAEA,OAAQ,CACN,KAAM,iBACN,OAAQ,OACV,EAEA,OAAQ,CACN,KAAM,gBACN,OAAQ,SACV,EAEA,OAAQ,CACN,KAAM,UACN,OAAQ,SACV,EAEA,OAAQ,CACN,KAAM,eACN,OAAQ,YACV,EAEA,OAAQ,CACN,KAAM,QACN,OAAQ,KACV,EAEA,OAAQ,CACN,KAAM,eACN,OAAQ,UACV,EAEA,OAAQ,CACN,KAAM,eACN,OAAQ,SACV,EAEA,OAAQ,CACN,KAAM,aACN,OAAQ,SACV,EAEA,OAAQ,CACN,KAAM,eACN,OAAQ,YACV,CACF,ECrGaC,EAAc,6BAEdC,EAAS,IAAIC,EAAOF,CAAW,ECQtCG,EAAYC,EAAW,YAAY,GAAG,EAE/BC,EACX,CAACC,EAAiC,CAAA,IACjCC,IACKA,EAAI,IAAI,SAASN,EAAO,KAAK,WAAYK,CAAO,EAE7C,CACL,KAAMN,EAEN,OAAQ,KAAO,CACb,aAAcM,EAAQ,OAAS,IAC/B,gBAAiBA,EAAQ,UAAY,IACrC,uBAAwBA,EAAQ,gBAAkB,CAAC,EACnD,eAAgBE,EAAgB,CAC9B,IAAAD,EACA,KAAMP,EACN,QAASD,EACT,OAAQO,EAAQ,OAClB,CAAC,EACD,gBAAiBG,EAAQH,EAAQ,QAAQ,EACrCA,EAAQ,SACRI,EAASJ,EAAQ,QAAQ,EACvB,CAACA,EAAQ,QAAQ,EACjB,CAAC,0CAA0C,EACjD,sBAAuBA,EAAQ,cAAgB,EACjD,GAEA,sBAAwBK,GAAkC,CACxDC,EAAqBD,EAAgBJ,EAAK,kBAAkB,CAC9D,EAEA,iBAAkBM,EAAK,QAAQV,EAAW,qBAAqB,CACjE"}