{"version":3,"file":"config.js","sources":["../../src/client/config.ts"],"sourcesContent":["import { setupDevtoolsPlugin } from '@vue/devtools-api'\nimport { computed } from 'vue'\nimport type { ClientData } from 'vuepress/client'\nimport { clientDataSymbol, defineClientConfig } from 'vuepress/client'\nimport {\n  resolveThemeLocaleData,\n  themeLocaleDataSymbol,\n  useThemeData,\n} from './composables/index.js'\n\nexport default defineClientConfig({\n  enhance({ app }) {\n    // provide theme data & theme locale data\n    const themeData = useThemeData()\n    const clientData = app._context.provides[\n      clientDataSymbol as unknown as symbol\n    ] as ClientData\n    const themeLocaleData = computed(() =>\n      resolveThemeLocaleData(themeData.value, clientData.routeLocale.value),\n    )\n    app.provide(themeLocaleDataSymbol, themeLocaleData)\n\n    Object.defineProperties(app.config.globalProperties, {\n      $theme: {\n        get() {\n          return themeData.value\n        },\n      },\n      $themeLocale: {\n        get() {\n          return themeLocaleData.value\n        },\n      },\n    })\n\n    // setup devtools in dev mode\n    if (__VUEPRESS_DEV__ || __VUE_PROD_DEVTOOLS__) {\n      setupDevtoolsPlugin(\n        {\n          // fix recursive reference\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-explicit-any\n          app: app as any,\n          id: 'org.vuejs.vuepress.plugin-theme-data',\n          label: 'VuePress Theme Data Plugin',\n          packageName: '@vuepress/plugin-theme-data',\n          homepage: 'https://v2.vuepress.vuejs.org',\n          logo: 'https://v2.vuepress.vuejs.org/images/hero.png',\n          componentStateTypes: ['VuePress'],\n        },\n        (api) => {\n          api.on.inspectComponent((payload) => {\n            payload.instanceData.state.push(\n              {\n                type: 'VuePress',\n                key: 'themeData',\n                editable: false,\n                value: themeData.value,\n              },\n              {\n                type: 'VuePress',\n                key: 'themeLocaleData',\n                editable: false,\n                value: themeLocaleData.value,\n              },\n            )\n          })\n        },\n      )\n    }\n  },\n})\n"],"names":["defineClientConfig","app","themeData","useThemeData","clientData","clientDataSymbol","themeLocaleData","computed","resolveThemeLocaleData","themeLocaleDataSymbol","setupDevtoolsPlugin","api","payload"],"mappings":"+RAUA,IAAeA,EAAAA,EAAmB,CAChC,QAAQ,CAAE,IAAAC,CAAI,EAAG,CAEf,MAAMC,EAAYC,IACZC,EAAaH,EAAI,SAAS,SAC9BI,CACF,EACMC,EAAkBC,EAAS,IAC/BC,EAAuBN,EAAU,MAAOE,EAAW,YAAY,KAAK,CACtE,EACAH,EAAI,QAAQQ,EAAuBH,CAAe,EAElD,OAAO,iBAAiBL,EAAI,OAAO,iBAAkB,CACnD,OAAQ,CACN,KAAM,CACJ,OAAOC,EAAU,KACnB,CACF,EACA,aAAc,CACZ,KAAM,CACJ,OAAOI,EAAgB,KACzB,CACF,CACF,CAAC,GAGG,kBAAoB,wBACtBI,EACE,CAGE,IAAKT,EACL,GAAI,uCACJ,MAAO,6BACP,YAAa,8BACb,SAAU,gCACV,KAAM,gDACN,oBAAqB,CAAC,UAAU,CAClC,EACCU,GAAQ,CACPA,EAAI,GAAG,iBAAkBC,GAAY,CACnCA,EAAQ,aAAa,MAAM,KACzB,CACE,KAAM,WACN,IAAK,YACL,SAAU,GACV,MAAOV,EAAU,KACnB,EACA,CACE,KAAM,WACN,IAAK,kBACL,SAAU,GACV,MAAOI,EAAgB,KACzB,CACF,CACF,CAAC,CACH,CACF,CAEJ,CACF,CAAC"}