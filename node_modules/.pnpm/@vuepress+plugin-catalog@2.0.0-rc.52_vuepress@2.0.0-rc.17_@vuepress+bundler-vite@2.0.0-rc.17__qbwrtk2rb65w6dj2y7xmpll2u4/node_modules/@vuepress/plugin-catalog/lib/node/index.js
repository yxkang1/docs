import{Logger as f,getLocaleConfig as h,addViteSsrNoExternal as C}from"@vuepress/helper";import{getDirname as K,path as k}from"vuepress/utils";import{createPage as L}from"vuepress/core";const v=["and","or","in","on","with","by","for","at","about","under","of","to","the","into"],$=l=>l.replace(/[-_]/gu," ").replace(/(^|[^A-Z])([A-Z])/gu,(t,o,i)=>`${o} ${i.toLowerCase()}`).replace(/ +/gu," ").trim().split(" ").map((t,o)=>v.includes(t)&&o!==0?t:t.charAt(0).toUpperCase()+t.slice(1)).join(" "),c="@vuepress/plugin-catalog",s=new f(c),A=async(l,{component:t="Catalog",exclude:o=[],frontmatter:i=()=>({}),level:n=3,index:u=!1})=>{const{env:{isDebug:y},pages:m}=l,g=new Set,d=`<${t}${[1,2].includes(n)?` :level="${n}"`:""}${u?" index":""}/>
`;m.forEach(({path:e,pathLocale:r})=>{let a=e;if(e!=="/404.html")for(;a!==r;)a=a.replace(/\/(?:[^/]+\/?)$/,"/"),!g.has(a)&&o.every(p=>!a.match(p))&&m.every(({path:p})=>p!==a)&&(y&&s.info(`Generating catalog ${a}`),g.add(a))}),await Promise.all(Array.from(g).map(e=>decodeURI(e)).map(async e=>{const[,r=""]=/\/([^/]+)\/?$/.exec(e)??[],a=$(r);return L(l,{frontmatter:{title:a,...i(e)},content:d,path:e})})).then(e=>{l.pages.push(...e)})},x={"/en/":{title:"Catalog",empty:"No catalog"},"/zh/":{title:"目录",empty:"暂无目录"},"/zh-tw/":{title:"目錄",empty:"暫無目錄"},"/de/":{title:"Katalog",empty:"Kein Katalog"},"/de-at/":{title:"Katalog",empty:"Kein Katalog"},"/vi/":{title:"Danh mục",empty:"Không có danh mục"},"/uk/":{title:"Каталог",empty:"Немає каталогу"},"/ru/":{title:"Каталог",empty:"Нет каталога"},"/br/":{title:"Catálogo",empty:"Sem catálogo"},"/pl/":{title:"Katalog",empty:"Brak katalogu"},"/sk/":{title:"Katalóg",empty:"Žiadny katalóg"},"/fr/":{title:"Catalogue",empty:"Pas de catalogue"},"/es/":{title:"Catálogo",empty:"Sin catálogo"},"/ja/":{title:"カタログ",empty:"カタログなし"},"/tr/":{title:"Katalog",empty:"Katalog yok"},"/ko/":{title:"목차",empty:"목차 없음"},"/fi/":{title:"Luettelo",empty:"Ei luetteloa"},"/hu/":{title:"Katalógus",empty:"Nincs katalógus"},"/id/":{title:"Katalog",empty:"Tidak ada katalog"},"/nl/":{title:"Catalogus",empty:"Geen catalogus"}},_=K(import.meta.url),w=(l={})=>t=>{t.env.isDebug&&s.info("Options:",l);const{component:o,locales:i}=l;return{name:c,define:()=>({__CATALOG_LOCALES__:h({app:t,name:c,default:x,config:i})}),onInitialized:()=>A(t,l),extendsBundlerOptions:n=>{C(n,t,"@vuepress/helper")},...o?{}:{clientConfigFile:k.join(_,"../client/config.js")}}};export{w as catalogPlugin};
//# sourceMappingURL=index.js.map
