import{useStorage as f}from"@vueuse/core";import{defineComponent as y,ref as m,shallowRef as I,onMounted as g,watch as h,h as r}from"vue";import"../styles/tabs.css";const A="VUEPRESS_TAB_STORE",d=f(A,{}),S=y({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(a,{slots:u}){const l=m(a.active),n=I([]),s=()=>{a.tabId&&(d.value[a.tabId]=a.data[l.value].id)},o=(e=l.value)=>{l.value=e<n.value.length-1?e+1:0,n.value[l.value].focus()},c=(e=l.value)=>{l.value=e>0?e-1:n.value.length-1,n.value[l.value].focus()},b=(e,t)=>{e.key===" "||e.key==="Enter"?(e.preventDefault(),l.value=t):e.key==="ArrowRight"?(e.preventDefault(),o()):e.key==="ArrowLeft"&&(e.preventDefault(),c()),s()},p=()=>{if(a.tabId){const e=a.data.findIndex(({id:t})=>d.value[a.tabId]===t);if(e!==-1)return e}return a.active};return g(()=>{l.value=p(),h(()=>d.value[a.tabId],(e,t)=>{if(a.tabId&&e!==t){const i=a.data.findIndex(({id:v})=>v===e);i!==-1&&(l.value=i)}})}),()=>a.data.length?r("div",{class:"vp-tabs"},[r("div",{class:"vp-tabs-nav",role:"tablist"},a.data.map(({id:e},t)=>{const i=t===l.value;return r("button",{type:"button",ref:v=>{v&&(n.value[t]=v)},class:["vp-tab-nav",{active:i}],role:"tab","aria-controls":`tab-${a.id}-${t}`,"aria-selected":i,onClick:()=>{l.value=t,s()},onKeydown:v=>{b(v,t)}},u[`title${t}`]({value:e,isActive:i}))})),a.data.map(({id:e},t)=>{const i=t===l.value;return r("div",{class:["vp-tab",{active:i}],id:`tab-${a.id}-${t}`,role:"tabpanel","aria-expanded":i},[r("div",{class:"vp-tab-title"},u[`title${t}`]({value:e,isActive:i})),u[`tab${t}`]({value:e,isActive:i})])})]):null}});export{S as Tabs};
//# sourceMappingURL=Tabs.js.map
