import{tab as b}from"@mdit/plugin-tab";import{ensureEndingSlash as T}from"vuepress/shared";import{getDirname as v,path as C}from"vuepress/utils";const l=t=>JSON.stringify(t).replace(/'/g,"&#39"),$=t=>{b(t,{name:"code-tabs",tabsOpenRenderer:({active:e,data:n},r,o)=>{const{meta:a}=r[o],i=n.map(({title:s})=>t.renderInline(s)),d=n.map((s,p)=>{const{id:m=i[p]}=s;return{id:m}});return`<CodeTabs id="${o}" :data='${l(d)}'${e===-1?"":` :active="${e}"`}${a.id?` tab-id="${a.id}"`:""}>
${i.map((s,p)=>`<template #title${p}="{ value, isActive }">${s}</template>
`).join("")}`},tabsCloseRenderer:()=>`</CodeTabs>
`,tabOpenRenderer:({index:e},n,r)=>{let o=!1;for(let a=r;a<n.length;a++){const{block:i,type:d}=n[a];if(i){if(d==="code-tabs_tab_close")break;if((d==="fence"||d==="import_code")&&!o){o=!0;continue}n[a].type="code_tab_empty",n[a].hidden=!0}}return`<template #tab${e}="{ value, isActive }">
`},tabCloseRenderer:()=>`</template>
`})},{url:g}=import.meta,y=v(g),c=T(C.resolve(y,"../client")),R=(t,{codeTabs:e,tabs:n})=>{const r=new Set,o=new Set;return e&&(r.add(`import { CodeTabs } from "${c}components/CodeTabs.js";`),o.add('app.component("CodeTabs", CodeTabs);')),n&&(r.add(`import { Tabs } from "${c}components/Tabs.js";`),o.add('app.component("Tabs", Tabs);')),t.writeTemp("markdown-tab/config.js",`${Array.from(r.values()).join(`
`)}
import "${c}styles/vars.css";

export default {
  enhance: ({ app }) => {
${Array.from(o.values()).map(a=>`    ${a}`).join(`
`)}
  },
};
`)},u=t=>{b(t,{name:"tabs",tabsOpenRenderer:({active:e,data:n},r,o)=>{const{meta:a}=r[o],i=n.map(({title:s})=>t.renderInline(s)),d=n.map((s,p)=>{const{id:m=i[p]}=s;return{id:m}});return`<Tabs id="${o}" :data='${l(d)}'${e===-1?"":` :active="${e}"`}${a.id?` tab-id="${a.id}"`:""}>
${i.map((s,p)=>`<template #title${p}="{ value, isActive }">${s}</template>
`).join("")}`},tabsCloseRenderer:()=>`</Tabs>
`,tabOpenRenderer:({index:e})=>`<template #tab${e}="{ value, isActive }">
`,tabCloseRenderer:()=>`</template>
`})},f="@vuepress/plugin-markdown-tab",j=t=>!t.codeTabs&&!t.tabs?{name:f}:{name:f,extendsMarkdown:e=>{t.codeTabs&&e.use($),t.tabs&&e.use(u)},clientConfigFile:e=>R(e,t)};export{$ as codeTabs,j as markdownTabPlugin,u as tabs};
//# sourceMappingURL=index.js.map
